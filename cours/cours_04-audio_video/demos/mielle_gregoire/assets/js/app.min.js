function GGplayer(e,l){this.el={},this.el.controls={},this.el.container=e,this.el.bckground=l,this.el.video=this.el.container.querySelector("video"),this.el.overlay=this.el.container.querySelector(".gg-player-overlay"),this.el.controls.state=this.el.container.querySelector(".gg-player-controls-bottom-state"),this.el.controls.fullscreen=this.el.container.querySelector(".gg-player-controls-bottom-fullscreen"),this.el.controls.cinema=this.el.container.querySelector(".gg-player-controls-bottom-cinema"),this.el.controls.bar=this.el.container.querySelector(".gg-player-controls-bottom-bar"),this.el.controls.bar_progression=this.el.container.querySelector(".gg-player-controls-bottom-bar-progression"),this.el.controls.thumb=this.el.container.querySelector(".gg-player-controls-bottom-thumb"),this.el.controls.time=this.el.container.querySelector(".gg-player-controls-bottom-time"),this.el.controls.time_current=this.el.container.querySelector(".current-time"),this.el.controls.time_full=this.el.container.querySelector(".full-time"),this.el.controls.share_facebook=this.el.container.querySelector(".gg-player-controls-top-share-facebook"),this.el.controls.share_twitter=this.el.container.querySelector(".gg-player-controls-top-share-twitter"),this.el.controls.share_googleplus=this.el.container.querySelector(".gg-player-controls-top-share-googleplus"),this.el.controls.volumebar=this.el.container.querySelector(".gg-player-controls-bottom-volumebar"),this.el.controls.volumebar_progression=this.el.container.querySelector(".gg-player-controls-bottom-volumebar-progression"),this.el.controls.volume_button=this.el.container.querySelector(".gg-player-controls-bottom-volume-button"),this.el.controls.volume_save=null,this.el.timeout=0,this.el.video.volume=.8,this.el.controls.volumebar_progression.style.transform="scaleX(0.8)"}GGplayer.prototype={constructor:GGplayer,viewport:function(){var e=this.el.container.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},state:function(){this.el.video.paused?this.el.video.play():this.el.video.pause()},full_time:function(){var e=this.el.video.duration,l=Math.floor(e/60),t=Math.floor(e-60*l);return l+":"+t},current_time:function(){var e=this.el.video.currentTime,l=Math.floor(e/60),t=Math.floor(e-60*l);return t<10&&(t="0"+t),l<10&&(l="0"+l),l+":"+t},enter_fullscreen:function(){this.el.container.requestFullscreen?this.el.container.requestFullscreen():this.el.container.mozRequestFullScreen?this.el.container.mozRequestFullScreen():this.el.container.webkitRequestFullscreen&&this.el.container.webkitRequestFullscreen()},exit_fullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},check_fullscreen:function(){window.screenTop||window.screenY?this.el.container.classList.add("fullscreen"):this.el.container.classList.remove("fullscreen")},share:function(e){var l=encodeURIComponent(window.location.href);share_url=e+l,window.open(share_url)},thumbnail:function(e){for(var l=this.el.controls.bar.offsetWidth,t=this.el.container.getBoundingClientRect().left,r=e.clientX,o=(r-t)/l,n=o*this.el.video.duration,a=this.el.video.textTracks[0].cues,i=null,s=0;s<a.length;s++)a[s].startTime<=n&&a[s].endTime>n&&(i=a[s].text);var c=(i.split("#")[0],i.substr(i.indexOf("=")+1).split(","));this.el.controls.thumb.style.backgroundImage="url("+i.split("#")[0]+")",this.el.controls.thumb.style.backgroundPosition="-"+c[0]+"px -"+c[1]+"px",this.el.controls.thumb.style.left=e.pageX-c[2]/2-.34*c[2]+30+"px",this.el.controls.thumb.style.top=this.el.controls.bar.offsetTop-c[3]-10+"px",this.el.controls.thumb.style.display="block"},remove_volume_classes:function(){var e="volume-",l=this.el.container.className.split(" ").filter(function(l){return 0!==l.lastIndexOf(e,0)});this.el.container.classList=l.join(" ").trim()},update_progress_bar:function(){var e=this.el.video.currentTime/this.el.video.duration;this.el.controls.bar_progression.style.transform="scaleX("+e+")"},update_current_time:function(e){ggplayer.el.video.currentTime=ggplayer.el.video.currentTime+e;var l=ggplayer.el.video.currentTime/ggplayer.el.video.duration;ggplayer.el.controls.bar_progression.style.transform="scaleX("+l+")"}};var ggplayer=new GGplayer(document.querySelector(".gg-player"),document.querySelector(".gg-player-background"));ggplayer.el.container.addEventListener("mousemove",function(){ggplayer.el.container.querySelector(".gg-player-controls").style.opacity=1,clearTimeout(ggplayer.el.timeout),ggplayer.el.timeout=setTimeout(function(){ggplayer.el.container.querySelector(".gg-player-controls").style.opacity=0},2e3)}),ggplayer.el.video.addEventListener("loadedmetadata",function(){ggplayer.el.controls.time_full.innerText=ggplayer.full_time(),ggplayer.el.video.ontimeupdate=function(){ggplayer.el.controls.time_current.innerText=ggplayer.current_time()}}),ggplayer.el.controls.state.addEventListener("click",function(e){e=e||window.event,e.preventDefault(),ggplayer.state()}),ggplayer.el.overlay.addEventListener("click",function(e){e=e||window.event,e.preventDefault(),ggplayer.state()}),ggplayer.el.controls.fullscreen.addEventListener("click",function(e){e=e||window.event,e.preventDefault(),ggplayer.el.container.classList.contains("fullscreen")?ggplayer.exit_fullscreen():(ggplayer.enter_fullscreen(),ggplayer.el.container.classList.remove("cinema"),ggplayer.el.bckground.classList.remove("visible"))}),ggplayer.el.controls.cinema.addEventListener("click",function(e){e=e||window.event,e.preventDefault(),ggplayer.el.container.classList.contains("fullscreen")||(ggplayer.el.container.classList.contains("cinema")?(ggplayer.el.container.classList.remove("cinema"),ggplayer.el.bckground.classList.remove("visible")):(ggplayer.el.container.classList.add("cinema"),ggplayer.el.bckground.classList.add("visible")))}),ggplayer.el.video.addEventListener("play",function(){ggplayer.el.container.classList.add("playing"),ggplayer.el.container.classList.remove("paused"),window.setInterval(function(){ggplayer.update_progress_bar()},100)}),ggplayer.el.video.addEventListener("pause",function(){ggplayer.el.container.classList.remove("playing"),ggplayer.el.container.classList.add("paused")}),ggplayer.el.controls.bar.addEventListener("mousemove",function(e){ggplayer.el.video.textTracks[0].cues.length>0&&ggplayer.thumbnail(e)}),ggplayer.el.controls.bar.addEventListener("mouseleave",function(e){ggplayer.el.controls.thumb.style.display="none"}),ggplayer.el.controls.bar.addEventListener("click",function(e){e=e||window.event,e.preventDefault();var l=ggplayer.el.controls.bar.offsetWidth,t=ggplayer.el.container.getBoundingClientRect().left,r=e.clientX,o=(r-t)/l,n=o*ggplayer.el.video.duration;ggplayer.el.video.currentTime=n,ggplayer.update_progress_bar()}),ggplayer.el.controls.volumebar.addEventListener("click",function(e){e=e||window.event,e.preventDefault();var l=ggplayer.el.controls.volumebar.offsetWidth,t=ggplayer.el.controls.volumebar.offsetLeft+ggplayer.el.container.getBoundingClientRect().left,r=e.clientX,o=(r-t)/l,n=Math.round(10*o)/10;ggplayer.el.video.volume=n}),ggplayer.el.controls.volume_button.addEventListener("click",function(e){e=e||window.event,e.preventDefault(),ggplayer.remove_volume_classes(),0==ggplayer.el.video.volume?ggplayer.el.video.volume=ggplayer.el.controls.volume_save:(ggplayer.el.controls.volume_save=ggplayer.el.video.volume,ggplayer.el.video.volume=0)}),ggplayer.el.video.addEventListener("volumechange",function(){var e=ggplayer.el.video.volume;ggplayer.remove_volume_classes(),ggplayer.el.controls.volumebar_progression.style.transform="scaleX("+e+")",0==e?ggplayer.el.container.classList.add("volume-no"):e>0&&e<=.2?ggplayer.el.container.classList.add("volume-zero"):e>.2&&e<=.4?ggplayer.el.container.classList.add("volume-one"):e>.4&&e<=.6?ggplayer.el.container.classList.add("volume-two"):ggplayer.el.container.classList.add("volume-three")}),ggplayer.el.controls.share_facebook.addEventListener("click",function(){ggplayer.share("https://www.facebook.com/sharer/sharer.php?u=")}),ggplayer.el.controls.share_twitter.addEventListener("click",function(){ggplayer.share("http://twitter.com/share?url=")}),ggplayer.el.controls.share_googleplus.addEventListener("click",function(){ggplayer.share("https://plus.google.com/share?url=")}),document.addEventListener("keydown",function(e){e=e||window.event,ggplayer.viewport()&&(e.preventDefault(),"32"==e.keyCode?ggplayer.state():"38"==e.keyCode?ggplayer.el.video.volume<=.9&&(ggplayer.el.video.volume=ggplayer.el.video.volume+.1):"40"==e.keyCode?ggplayer.el.video.volume>=.1&&(ggplayer.el.video.volume=ggplayer.el.video.volume-.1):"77"==e.keyCode?0==ggplayer.el.video.volume?ggplayer.el.video.volume=ggplayer.el.controls.volume_save:(ggplayer.el.controls.volume_save=ggplayer.el.video.volume,ggplayer.el.video.volume=0):"83"==e.keyCode?(2==ggplayer.el.video.playbackRate&&(ggplayer.el.video.playbackRate=0),ggplayer.el.video.playbackRate+=.5):"37"==e.keyCode?ggplayer.update_current_time(-10):"39"==e.keyCode?ggplayer.update_current_time(10):"70"==e.keyCode?ggplayer.el.container.classList.contains("fullscreen")?ggplayer.exit_fullscreen():(ggplayer.enter_fullscreen(),ggplayer.el.container.classList.remove("cinema"),ggplayer.el.bckground.classList.remove("visible")):"67"==e.keyCode?ggplayer.el.container.classList.contains("cinema")?(ggplayer.el.container.classList.remove("cinema"),ggplayer.el.bckground.classList.remove("visible")):(ggplayer.el.container.classList.add("cinema"),ggplayer.el.bckground.classList.add("visible")):"27"==e.keyCode&&ggplayer.exit_fullscreen())}),document.addEventListener("webkitfullscreenchange",function(e){ggplayer.check_fullscreen()}),document.addEventListener("mozfullscreenchange",function(e){ggplayer.check_fullscreen()}),document.addEventListener("fullscreenchange",function(e){ggplayer.check_fullscreen()}),console.log("%c GGplayer - A responsive HTML5 video player in pure javascript.","background: #00E676; color: #212121;");